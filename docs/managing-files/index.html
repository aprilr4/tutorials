<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta charset="UTF-8">
    <title>Managing Your Files</title>
    <link rel="icon" href="../img/favicon.png">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    
    <script defer src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
    
    <script defer src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../lib/prism.css">
    <link rel="stylesheet" href="../css/styles.css">
    <script defer src="../lib/prism.js"></script> 
</head>
<body>
    <header class="managing-files-header">
        <div class="container">
            <h1>Managing Your Files</h1>
            <p class="subtitle">Using a Version Control System</p>
        </div>
    </header>
    <div class="container">
        <article>
            <p>One thing you will quickly discover is that a typical web site involves <em>a ton</em> of files. Every HTML page, every CSS stylesheet, every module of JavaScript, and every multimedia asset is a separate file, organized into a folder hierarchy. Even simple sites will have a dozen or more files, and large complex sites typically involve hundreds.</p>
<p>Managing changes to these files by hand can become complex and error prone, especially when a whole team is working on the files at the same time. Moving the files from your local development machine to your web server can also be difficult to manage, especially when you're unsure which files you've modified since you last published the site.</p>
<p>Thankfully, there are a class of tools that are designed to make managing all these files much easier. They are called <strong>version control systems</strong>, and the most popular of these in the open-source community is known as git. Although git can be used without a central server, it is commonly paired with the collaborative, cloud-based repository service <a href="https://github.com/">GitHub</a>, which maintains a copy of your files in a central, secure, and backed-up location.</p>
<h2 id="sec-whatisgit">What is Git?</h2>
<p>Git is a system that can store, retrieve, and merge various versions of your files. It's kind of like Dropbox and Google Docs, but with two big differences:</p>
<ul>
<li>New versions of your files must be explicitly committed when they are ready. Git doesn't save a new version every time you save a file to disk. That approach works fine for word-processing documents, but not for programming files. You typically need to write some code, save it, load it in your browser, test it, debug, make some fixes, and test again before you're ready to commit a new version.</li>
<li>For text files (which nearly all your web development files will be), git pays attention to changes at the line level, and not just the file level. That means it can automatically merge together different changes made to different parts of the same file.</li>
</ul>
<p>Like Dropbox and Google Docs, git can show you all previous versions of a file and can quickly rollback to one of those previous versions. This is often helpful in web development, especially if you embark on making a massive set of changes, only to discover part way through that those changes were a bad idea (I speak from experience here &#x1F631; ).</p>
<p>But where git really comes in handy is in team development. Almost all professional web development work is done in teams, with involves multiple people working on the same set of files at the same time. Git helps the team coordinate all these changes, and provides a record so that anyone can see how a given file ended up the way it did.</p>
<h2 id="sec-gitcoreconcepts">Git Core Concepts</h2>
<p>To understand how git works, you need to understand its core concepts. Read this section carefully, and come back to it if you forget what these terms mean.</p>
<ul>
<li><strong>repository (repo):</strong> an archive containing all the committed versions of all your files, along with some additional metadata, stored in a hidden subdirectory named <code>.git</code> within your project directory. If you want to sound cool and in-the-know, call this a "repo."</li>
<li><strong>commit:</strong> a set of file versions that have been added to the repository, along with the name of the person who did the commit, a message describing the commit, and a timestamp. This extra tracking information allows you to see when, why, and by whom changes were made to a given file.</li>
<li><strong>staging area:</strong> a set of new changes that are ready to be committed to the repository. All changes to all files in the staging area will be included in the next commit, but not changes made to other files that are not in the staging area. This allows you to commit the changes you are done with, while keeping your work-in-progress out of the repository.</li>
<li><strong>branch:</strong> a separate stream of changes within a repo that are isolated from each other. All git repositories start with one branch named <code>master</code>, but you can create other branches if you wish. Changes committed to one branch are kept separate from those committed to other branches, allowing you to work on new features or crazy ideas without contaminating the <code>master</code> branch. Once a feature is complete, you can merge committed changes from the new feature branch into the <code>master</code> branch with one quick command.</li>
<li><strong>pull request:</strong> a request to merge changes from one branch into another, or from one repository into another. Pull requests allow your team members or bosses to review your changes and approve them before they are merged back into the <code>master</code> branch, which is considered the master version of the code.</li>
<li><strong>remote:</strong> a link to a copy of this same repository on a different machine. Typically this will be a central version of the repository that all local copies on your various development machines point to. You can push commits to, and pull commits from, a remote repository to keep everything in sync. You can also add more than one remote link if you are working with multiple remote repositories.</li>
<li><strong>merge conflict:</strong> a condition that occurs when you merge commits pulled from another branch or repository that include changes to the same lines that you've already changed locally. In this case, git doesn't which version is correct, so you must resolve the conflict by choosing a winner, or manually combining the changes.</li>
<li><strong>.gitignore file:</strong> a file in your project's root directory that contains paths or specific files that git should ignore. This is very useful for keeping things out of the repository that should never be in there, such as current workspace settings saved by an Integrated Development Environment (IDE), or files containing login information or secret keys.</li>
</ul>
<h2 id="sec-whatisgithub">What is GitHub?</h2>
<p><img class="img-responsive pull-right" src="img/github.png" alt="box diagram of git and github relationship"></p>
<p>Git was made to support completely decentralized development, where developers pull commits from each other's machines directly. But most professional teams take the approach of creating one central repository on a server that all developers push to and pull from. This repository contains the authoritative version the source code, and all deployments to a web server are done by cloning/pulling from this centralized repository.</p>
<p>Teams can setup their own servers to host these centralized repositories, but many choose to use a server maintained by another service provider. The most popular of these in the open-source world is <a href="https://github.com">GitHub</a>. In addition to hosting centralized repositories, GitHub also offers other team development features, such as issue tracking, wiki pages, and notifications. Public repositories on GitHub are free, but you have to pay for private ones.</p>
<h2 id="sec-whatisgithubdesktop">What is GitHub Desktop?</h2>
<p>The core git system consists of several command-line tools, which you can <a href="https://git-scm.com/">download and use</a> if you wish. But if you are not comfortable working at the command line, you should use the <a href="https://desktop.github.com/">GitHub Desktop application</a> instead. This application presents a friendly, easy-to-use graphical user interface (GUI) over the core command-line tools. This GUI does the same thing the command line tools do, so it's fine to use both interchangeably. </p>
<p>This tutorial will show you how to use this GUI application, but if you want to learn the command-line tools, go through the interactive <a href="https://try.github.io/levels/1/challenges/1">Try Git</a> tutorial on GitHub.</p>
<h2 id="sec-creatingarepo">Creating a Repo</h2>
<p>To help you get comfortable with using git, let's create a test repository on GitHub, clone it to your local machine, and make some changes. This is just for practice right now, so don't worry if you mess up and have to start over.</p>
<p>Start by <a href="https://help.github.com/articles/create-a-repo/">creating a new repo on GitHub</a>. Since this is just a test, name it <code>git-demo</code>, and give it some sort of description. Keep it public, but make sure you check the box that says you want a README file, so that your new repo will contain at least one file.</p>
<p>GitHub repos always live within a particular account, and that account can belong to a single user (like you), or an entire organization. The full name of the repo is a combination of the account name and the repo name, and takes the form of <code>account-name/repo-name</code>. A given account may have multiple repos, but each repo must have a unique name within that account. Different accounts may have repos with the same name, as the full name contains both the account name <strong>and</strong> the repo name.</p>
<p>The repositories you will use for the challenges will live inside our course's GitHub organization, and not your individual account. This is because GitHub Education gives us free <em>private</em> repositories within an organization we create for a course. Keeping these challenge repositories private ensures that other students can't look at and copy your code.</p>
<p class="alert alert-warning">If you sign up for the <a href="https://education.github.com/pack">GitHub Student Developer Pack</a> you can get unlimited free private repos in your own account while you are still a student (plus a bunch of other discounts).</p>
<h2 id="sec-cloningarepotoyourdevelopmentmachine">Cloning a Repo to Your Development Machine</h2>
<p>Creating the repo on GitHub creates the files on GitHub's servers, so to work with them on your local development machine, you need to <strong>clone</strong> the repo to your computer. Cloning creates a copy of the repository on your machine, and it also records where the repo came from as a new remote named <code>origin</code>. This allows you to quickly push any changes you make back to the <code>origin</code> repository.</p>
<p>To clone a repo, go to the repo's home page on GitHub and click the <strong>Clone or download</strong> button on the right. This gives you a few options, and the one we want to choose is "Open in Desktop." </p>
<p><img src="img/github-clone.png" alt="screen shot of github clone or download button" /></p>
<p>After you click that button, you'll probably see a scary-looking dialog that looks something like this:</p>
<p><img src="img/github-open-conf.png" alt="screen shot of github open confirmation dialog" /></p>
<p>This dialog is shown by your web browser, and its informing you that the web site would like to launch a tool that is installed on your computer&mdash;in this case, the GitHub Desktop application. The browser asks you to confirm this for security reasons, as it would be bad to let a random web site run a program on your local machine without giving you a chance to stop it. In this case, we do want to launch GitHub Desktop, so click the <strong>Launch Application</strong> button (or whatever button you see that confirms you really do want to run the program).</p>
<p>The GitHub Desktop app will open and ask you where you want to clone the repo on your system. You can choose any location you want, but pay attention to where you clone it; you'll need to open those files in your code editor, so you need to remember where they are. It's a good idea to clone these repos to a consistent place so that you always know where to go. On my machine, I created a folder named <code>code</code> inside my home directory, and I clone all my repos to that folder.</p>
<p>After the clone has completed, you will see something like this in your GitHub Desktop app:</p>
<p><img src="img/github-after-clone.png" alt="GitHub Desktop after cloning" /></p>
<p>This shows you the history of the repo so far, which is pretty minimal. There's only one commit, made by you when you created the repo on GitHub.</p>
<h2 id="sec-createabranch">Create a Branch</h2>
<p>Although it's not strictly required, it's good practice to create a new branch whenever you want to make significant changes to the files in your repository. This allows you to isolate those changes from the master version of the files in the <code>master</code> branch. If you end up deciding your changes were a bad idea, you can simply delete the branch and the <code>master</code> branch remains unaffected. If you decide your changes were good, you can then create a pull request so that your teammates or bosses (or teachers) can review your changes.</p>
<p>Create a new branch by clicking the New Branch icon in the toolbar (highlighted here in red). Ensure that <code>master</code> is selected as the <code>From</code> branch, and name your new branch <code>feature-1</code>.</p>
<p><img src="img/github-create-branch.png" alt="GitHub Desktop create branch" /></p>
<p>After you create the branch, your GitHub Desktop app will looks something like this:</p>
<p><img src="img/github-after-branch.png" alt="GitHub Desktop after create branch" /></p>
<p>It's switched to showing you all uncommitted changes in your files. Since we haven't changed anything yet, there's nothing to show. Let's make some changes.</p>
<h2 id="sec-opentherepoinvisualstudiocode">Open the Repo in Visual Studio Code</h2>
<p>We will now use Visual Studio code to edit some files in our repo. If you haven't already done so, please read through <a href="https://code.visualstudio.com/docs/editor/codebasics">The Basics of Visual Studio Code</a> to get familiar with the tool and how it works.</p>
<p>Start Visual Studio Code and choose the <code>File</code> menu, and choose the <code>Open...</code> menu item. This will display your operating system's standard file open dialog, but with a twist: you can select an open entire folder here. Find your repository folder, which was created earlier when you cloned your repo. Click on the entire folder and choose <code>Open</code>. You should see your repo files listed on the left.</p>
<p><img src="img/vscode-after-open.png" alt="visual studio code after open" /></p>
<h2 id="sec-createanignorefile">Create an Ignore File</h2>
<p>By default git will try to track every file and folder in your repository folder, but there are some files and folders you really don't want to add to your repository. A good example is the <code>.DS_Store</code> file that OS X creates when you arrange the icons in a folder. OS X uses this file to track meta-data about the folder, but that's not really part of your code. It's specific to your machine and your machine only, so we don't want to add that to our repository. Other examples include the <code>.vscode</code> folder, which Visual Studio code creates to track workspace-specific data that shouldn't be added to your repo.</p>
<p>Thankfully it's easy to tell git to ignore these files. All we need to do is create a file named <code>.gitignore</code> and enter all the file/folder names we want git to ignore.</p>
<p>On the <code>File</code> menu, choose <code>New File</code> to create a new file in your project, and give it the name <code>.gitignore</code> (note the leading dot). If prompted, confirm that you really do want to start the name with a dot. After creating the file, add these lines to it and save the file:</p>
<pre><code>.DS_Store
.vscode</code></pre>
<p>Visual Studio Code should now look like this:</p>
<p><img src="img/vscode-after-gitignore.png" alt="visual studio code after creating .gitignore file" /></p>
<h2 id="sec-editthereadmemdfile">Edit the README.md File</h2>
<p>Let's also edit the <code>README.md</code> file. <code>README</code> is the traditional name given to a file that explains what a given repository or folder contains. The <code>.md</code> extension means this file is saved in the popular <a href="http://www.markdowntutorial.com/">Markdown</a> format. Markdown is simpler than HTML, yet can be converted easily into HTML, so GitHub uses it for these explanatory files.</p>
<p>Add some more lines to this file, using the <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheatsheet</a> as a syntax reference. At the very least, add a new paragraph like so:</p>
<p><img src="img/vscode-after-readme.png" alt="visual studio code after adding to README.md file" /></p>
<h2 id="sec-commityourchanges">Commit your Changes</h2>
<p>We've made some changes to our files, but before we can send them back to GitHub, we need to <strong>commit</strong> those changes to our repository. When we commit changes, git automatically captures when the commit was done, who did it, and prompts us to supply a message describing why the commit was done. All of this meta-data is stored with the commit in the repository, and remains visible in the log. This enables us to know exactly who made a change, when it was made, and why.</p>
<p>Return to the GitHub Desktop app. It should show you the changes you've made:</p>
<p><img src="img/github-after-changes.png" alt="github desktop after changes" /></p>
<p>Note that for text files, git tracks changes at the line level. This enables git to <strong>merge</strong> changes to the same file from different developers as long as those developers change different lines in the file. If they change the same lines, the second one to commit will get a <strong>merge conflict</strong> error, and git will ask that developer to resolve which version of the line should remain.</p>
<p>The <code>Summary</code> and <code>Description</code> boxes are where you can enter a message about what the commit contains and why it's being made. The <code>Summary</code> is meant to be a short overview, and the <code>Description</code> may contain a longer explanation, or may be left blank. Enter something in the <code>Summary</code> box and choose the <code>Commit to feature-1</code> button to commit your changes to the repository.</p>
<p><img src="img/github-after-commit.png" alt="github desktop after changes" /></p>
<p>The list of changes should disappear and a message should be shown indicating that the commit was completed. Note that you click the <code>Undo</code> button to undo that commit if you decided it was a bad idea.</p>
<p>You can use the <code>History</code> tab at the top to view the entire history of the current branch, which at this point contains one commit.</p>
<p><img src="img/github-history.png" alt="github desktop history" /></p>
<h2 id="sec-publishtogithub">Publish to GitHub</h2>
<p>When you make a new commit, that is saved to your local repo on your machine only. To back it up and share it with others, you should choose the <code>Publish</code> button (highlighted in red):</p>
<p><img src="img/github-publish-button.png" alt="github desktop publish button" /></p>
<h2 id="sec-viewchangesongithub">View Changes on GitHub</h2>
<p>After the publish finishes, go back to your web browser and look at your repo's home page on GitHub. By default, it will show you the contents of the <code>master</code> branch, which remains unaltered because we committed our changes to the <code>feature-1</code> branch (remember that all commits to a branch are kept isolated on that branch until they are merged into another branch). But if you choose the button labeled <code>Branch: master</code>, you should see a drop-down that lets you select your new <code>feature-1</code> branch:</p>
<p><img src="img/github-view-branch.png" alt="github choose branch" /></p>
<p>After you choose the <code>feature-1</code> branch, you should be able to see the new <code>.gitignore</code> file, as well as your changes to the <code>README.md</code> file. Click on the file names to view their contents. Your commit message summary will appear to the right of each file, and if you click that message, you'll see all of the lines that were changed in each of the files during that commit. </p>
<p>Note that if you switch back to the <code>master</code> branch, those changes are no longer shown. Commits made to branches are kept separate from one another until you merge them. One common way to accomplish that merging is to create a <strong>Pull Request</strong>, which allows your teammates, bosses, or teachers to review your changes before they get merged into the <code>master</code> branch.</p>
<h2 id="sec-createapullrequest">Create a Pull Request</h2>
<p>You can create a pull request either through the GitHub Desktop application, or through the GitHub web site. In the GitHub Desktop application, make sure you are looking at the <code>feature-1</code> branch (see branch selector highlighted in green), and then choose the <code>Pull Request</code> button at the top-right of the window (highlighted in red):</p>
<p><img src="img/github-pull-req-button.png" alt="github create pull request button" /></p>
<p>The default summary message will be the same as your last commit, and you can use that, or change it to something else like <code>merge feature-1 commits into master</code>. Then click the <code>Send Pull Request</code> button to create the pull request up on GitHub. If all went well, it should show you a confirmation along with a link you can click to view the pull request on GitHub.</p>
<p>To create the pull request via the GitHub web site, choose the <code>New pull request</code> button on your repo's home page, and on the Open Pull Request page, choose <code>master</code> as the <code>base</code> branch, and <code>feature-1</code> as the <code>compare</code> branch. Just as in the GitHub Desktop app, you can use the default summary message or change it to whatever you like. Then choose the <code>Create pull request</code> button.</p>
<p>A pull request is only a <em>request</em> to merge commits from one branch to another. This request is typically reviewed by others, and comments are added regarding any code that needs further changes. Any additional commits made to the <code>feature-1</code> branch will automatically get included into the pull request until it is merged and/or closed.</p>
<p>Comments can be inserted in-line to your code. While viewing the pull request, choose the <code>Files changed</code> tab and move your mouse over the lines. You'll see a blue <code>+</code> button appear and if you click it, you can add a comment regarding that particular line.</p>
<p><img src="img/github-pull-req-comment.png" alt="github pull request comment" /></p>
<h2 id="sec-mergethepullrequest">Merge the Pull Request</h2>
<p>Normally one of your teammates, bosses, or teachers would merge the pull request after reviewing your code, but for this tutorial, complete the merge yourself. Choose the big green <code>Merge pull request</code> button and confirm that action by clicking the <code>Confirm merge</code> button.</p>
<p><img src="img/github-pull-req-merge.png" alt="github pull request merge button" /></p>
<p>After you merge the pull request, GitHub will automatically close it. You can now go back to the home page for your repository, ensure that you are looking at the <code>master</code> branch, and you should now see your changes you made to the <code>feature-1</code> branch on the <code>master</code> branch as well.</p>
<h2 id="sec-latherrinserepeat">Lather, Rinse, Repeat</h2>
<p>You've now completed one cycle of the typical GitHub workflow:</p>
<ol>
<li>Create a new branch for each new major feature</li>
<li>Make your changes to your files</li>
<li>Commit your changes to the feature branch and publish them to GitHub at the end of each work session</li>
<li>When you are completely done with your feature, create a pull request asking to merge commits from the feature branch into the <code>master</code> branch</li>
<li>Let others review your changes, approve them, and merge them into the <code>master</code> branch</li>
</ol>
<p>Keep practicing by trying the following:</p>
<ul>
<li>Make more commits to the <code>feature-1</code> branch, publish them, create another pull request, and merge the pull request into <code>master</code>.</li>
<li>Create another branch named <code>feature-2</code> off of the <code>master</code> branch (i.e., ensure that <code>master</code> is selected as the <code>From</code> branch). Then do the following:

<ul>
<li>Find a picture you like on <a href="https://pixabay.com/">Pixabay</a>, download it, and move it to your repo folder. </li>
<li>Switch back to GitHub Desktop. The picture should show up as a new file, which you can commit to the <code>feature-2</code> branch. </li>
<li>Publish the newly committed file to your <code>feature-2</code> branch on GitHub. </li>
<li>Create a pull request, and merge into <code>master</code>. Git can manage binary files like pictures, but those files are treated as an atomic units: it can't track changes to parts of the file like it can with text files, so each commit records a new version of the entire file.</li></ul></li>
<li>When working alone, you can simply merge commits from one branch into another directly without creating a formal pull request. Try that now by doing the following:
-Create another branch off of <code>master</code> named <code>feature-3</code>. 

<ul>
<li>Make some changes to the <code>README.md</code> file and commit them to the <code>feature-3</code> branch. </li>
<li>Switch back to the <code>master</code> branch (highlighted in green), click on the <code>Compare</code> button, and choose <code>feature-3</code> from the drop-down list.</li>
<li>Choose the <code>Update from feature-3</code> button to directly merge commits made to <code>feature-3</code> into <code>master</code>.</li>
<li>Choose the <code>Sync</code> button to push this direct merge back up to GitHub.</li></ul></li>
</ul>
<p><img src="img/github-direct-merge.png" alt="github direct merge" /></p>
        </article>
        <footer>
            <p>
                <small>
                    <a href="..">table of contents</a>
                </small>
            </p>
            <p>
                <small>
                    &copy; 2017, 
                    <a href="https://ischool.uw.edu/people/faculty/dlsinfo">Dave Stearns</a>, 
                    <a href="https://ischool.uw.edu/">The Information School</a>, 
                    <a href="http://www.washington.edu/">University of Washington</a>
                </small>
            </p>
        </footer>
    </div>
</body>
</html>
